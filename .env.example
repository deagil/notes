# Ghost v6 Environment Variables for Coolify
# Adapted from official Ghost Docker setup
# Copy this to .env and configure for your setup

# Use the below flags to enable the Analytics or ActivityPub containers as well
# For hosted ActivityPub (recommended initially), use: COMPOSE_PROFILES=analytics
# For self-hosted ActivityPub, use: COMPOSE_PROFILES=analytics,activitypub
# COMPOSE_PROFILES=analytics,activitypub

# Ghost domain
# IMPORTANT FOR COOLIFY: This should match your custom domain set in Coolify
# Coolify will also provide SERVICE_FQDN_GHOST automatically, but DOMAIN is still needed
# for ActivityPub and other services that reference it
DOMAIN=example.com

# Ghost Admin domain
# COOLIFY LIMITATION: Coolify can only route to one domain per service
# If you want separate admin domain, you'll need to:
# 1. Deploy Ghost with main domain in Coolify
# 2. Set up separate proxy/routing outside Coolify for admin domain
# 3. Or use subpath like yourdomain.com/ghost-admin instead
# ADMIN_DOMAIN=admin.example.com

# Database settings
# All database settings must not be changed once the database is initialised
DATABASE_ROOT_PASSWORD=reallysecurerootpassword
# DATABASE_USER=ghost
DATABASE_PASSWORD=ghostpassword

# ActivityPub Configuration
# RECOMMENDED: Start with hosted ActivityPub (Ghost's free service)
# Leave ACTIVITYPUB_TARGET commented out to use hosted service (https://ap.ghost.org)
# Hosted service is free up to 100 interactions/day

# If you want to self-host ActivityPub later, uncomment the line below:
# ACTIVITYPUB_TARGET=activitypub:8080
# And add "activitypub" to COMPOSE_PROFILES above

# Tinybird Analytics Configuration
# If you want to run Analytics, first create a Tinybird account, then:
# 1. Run: docker compose run --rm tinybird-login
# 2. Run: docker compose run --rm tinybird-login get-tokens
# 3. Paste the output below:
# TINYBIRD_API_URL=https://api.tinybird.co
# TINYBIRD_TRACKER_TOKEN=p.eyJxxxxx
# TINYBIRD_ADMIN_TOKEN=p.eyJxxxxx
# TINYBIRD_WORKSPACE_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# Ghost configuration (https://ghost.org/docs/config/)

# SMTP Email Configuration (https://ghost.org/docs/config/#mail)
# Transactional email is required for logins, account creation, password resets
# This is NOT for newsletters (that's handled separately in Ghost admin)
mail__transport=SMTP
mail__options__host=smtp.example.com
mail__options__port=465
mail__options__secure=true
mail__options__auth__user=postmaster@example.com
mail__options__auth__pass=1234567890

# Advanced customizations

# Force Ghost version
# You should only do this if you need to pin a specific version
# The update commands won't work if you pin a version
# GHOST_VERSION=6-alpine

# Port Ghost should listen on
# COOLIFY NOTE: You shouldn't need to change this
# Coolify automatically detects port 2368
# GHOST_PORT=2368

# Data locations
# Location to store uploaded content (images, themes, etc.)
UPLOAD_LOCATION=./data/ghost

# Location for database data
MYSQL_DATA_LOCATION=./data/mysql